# .ai-constraints.md - Project: That's What I Said

## 1. Project Vision

A secure, offline-first knowledge management system that aggregates and archives LLM and messaging conversations into a searchable, private timeline.

## 2. Core Rules (Non-Negotiable Baseline)

- **2.1 Tech Stack:**
  - Frontend: Svelte + TypeScript
  - Backend: Node.js (local-only)
  - Desktop Framework: Tauri
  - Storage: SQLite via tauri-plugin-sql
  - Crypto: Web Crypto API
  - Test Framework: Vitest

- **2.2 Local-Only Architecture:**
  - No server-side code, telemetry, or network calls allowed.
  - All data must remain local to the userâ€™s machine.

- **2.3 No Code Without Tests:**
  - All logic, parsing, and transformation functions must include unit or integration tests.

- **2.4 Security-First Design:**
  - Use strong authenticated encryption (AES-256-GCM).
  - Derive encryption keys using PBKDF2 or Argon2 with salt and high iteration count.
  - All user data must be encrypted at rest.

- **2.5 Strict Input Handling:**
  - All imported files (.json, .txt, .md) must undergo format validation, input sanitization, and timestamp normalization.
  - Reject malformed or ambiguous records.

- **2.6 No Dynamic Code Evaluation:**
  - Never allow `eval`, `Function` constructor, or similar patterns.

- **2.7 Privacy By Architecture:**
  - No cloud integration, tracking, or external dependencies requiring API keys.
  - App must remain fully operational offline.

## 3. Allowed Technologies & Libraries

- **Frontend:** Svelte, TypeScript, Tailwind CSS
- **Desktop Shell:** Tauri
- **Crypto:** Web Crypto API (AES-GCM, PBKDF2, window.crypto)
- **Database:** SQLite (via Tauri plugin)
- **Testing:** Vitest
- **Build Tools:** Vite, Tauri CLI

## 4. Banned Practices

- Hardcoded secrets or passwords
- Usage of remote APIs or third-party services
- Any analytics or tracking libraries
- Unsafe DOM manipulation or inline JS
- Use of eval, new Function, or similar patterns

## 5. MVP Feature Scope

- Parser for ChatGPT and Markdown
- Infinite scrolling timeline view
- SQLite-based encrypted local storage
- Import interface for .json, .txt, .md
- Minimal settings: light/dark mode only

## 6. AI Assistant Directives

- Adhere to all constraints above without exception
- Do not generate insecure code patterns, even as examples
- Always propose test coverage
- Flag ambiguity or edge cases in data parsing

---

